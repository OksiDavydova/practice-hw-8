{"version":3,"sources":["js/app.js","js/script.js"],"names":["preview","original","description","console","log","galleryItems","containerGalleryRefs","document","querySelector","lightboxModalRefs","overlayModal","imgModal","btnCloseModalRefs","activeIndex","createImageEl","acc","index","markup","reduce","openModalHandler","e","preventDefault","target","nodeName","classList","add","openBigImg","window","addEventListener","closeModalESC","src","dataset","source","alt","id","closeModalHandler","remove","refreshAttributes","removeEventListener","key","toggleModal","toggle","setAttribute","insertAdjacentHTML","closeModal"],"mappings":";AAkEA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAlEe,IAAA,EAAA,CACb,CACEA,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBAIjB,QAAA,QAAA;;ACsDA,aAxHA,IAAA,EAAA,EAAA,QAAA,aAwHA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAtHAC,QAAQC,IAAIC,EAAZ,SACA,MAAMC,EAAuBC,SAASC,cAAc,eAC9CC,EAAoBF,SAASC,cAAc,gBAC3CE,EAAcH,SAASC,cAAc,sBACrCG,EAAWJ,SAASC,cAAc,oBAElCI,EAAoBL,SAASC,cAAc,qBAChD,IAAIK,EAAc,KACnB,MAAMC,EAAc,CAACC,GAAKf,QAAAA,EAASC,SAAAA,EAAUC,YAAAA,GAAac,IACxDD,sFAIYd,mEAIDD,0BACQC,qBACLe,iBACHd,8BAMPe,EAASZ,EAAaa,QAAAA,OAAOJ,EAAc,IAUjD,SAASK,EAAiBC,GACxBA,EAAEC,iBACwB,QAAtBD,EAAEE,OAAOC,WAGbd,EAAkBe,UAAUC,IAAI,WAGhCC,EAAWN,GACXO,OAAOC,iBAAiB,QAASC,IAInC,SAASH,EAAWN,GAClBT,EAASmB,IAAMV,EAAEE,OAAOS,QAAQC,OAChCrB,EAASsB,IAAMb,EAAEE,OAAOS,QAAQE,IAChCtB,EAASuB,GAAKd,EAAEE,OAAOS,QAAQG,GAGjC,SAASC,EAAkBf,GACzBX,EAAkBe,UAAUY,OAAO,WACnCC,IACAV,OAAOW,oBAAoB,QAAST,GAItC,SAASA,EAAcT,GACP,WAAVA,EAAEmB,MAGNC,IACAH,KAGF,SAASG,IACP/B,EAAkBe,UAAUiB,OAAO,WAGrC,SAASJ,IACP1B,EAAS+B,aAAa,MAAM,IAC5B/B,EAAS+B,aAAa,MAAM,IAC5B/B,EAAS+B,aAAa,KAAK,IAlD7BpC,EAAqBqC,mBAAmB,YAAY1B,GAIpDX,EAAqBsB,iBAAiB,QAAST,GAC/CP,EAAkBgB,iBAAiB,QAAQO,GAC3CzB,EAAakB,iBAAiB,QAAQO,GACtC1B,EAAkBmB,iBAAiB,QAASgB","file":"script.6ee5aade.js","sourceRoot":"../src","sourcesContent":["export default [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];\n\n// export default gallery\n","import galleryItems from './app.js';\n\nconsole.log(galleryItems);\nconst containerGalleryRefs = document.querySelector('.js-gallery');\nconst lightboxModalRefs = document.querySelector('.js-lightbox');\nconst overlayModal =document.querySelector('.lightbox__overlay');\nconst imgModal = document.querySelector('.lightbox__image');\n\nconst btnCloseModalRefs = document.querySelector('.lightbox__button'); \n let activeIndex = null;\nconst createImageEl=(acc,{preview, original, description},index) =>\n  acc + `\n  <li class=\"gallery__item\">\n    <a\n      class=\"gallery__link\"\n      href=\"${original}\"\n    >\n      <img\n      class=\"gallery__image\"\n      src=\"${preview}\"\n      data-source=\"${original}\"\n      data-id=${index}\n      alt=\"${description}\"\n    />\n  </a>\n</li>\n`;\n\nconst markup = galleryItems.reduce(createImageEl,'');\ncontainerGalleryRefs.insertAdjacentHTML('beforeend',markup);\n\n// console.log(containerGalleryRefs);\n\ncontainerGalleryRefs.addEventListener('click', openModalHandler);\nbtnCloseModalRefs.addEventListener('click',closeModalHandler);\noverlayModal.addEventListener('click',closeModalHandler);\nlightboxModalRefs.addEventListener('click', closeModal);\n\nfunction openModalHandler(e) {\n  e.preventDefault();\n  if (e.target.nodeName !== 'IMG') {\n    return;\n  }\n  lightboxModalRefs.classList.add('is-open');\n  // galleryItems.forEach((el,index) )\n  // activeIndex = index\n  openBigImg(e);\n  window.addEventListener(\"keyup\", closeModalESC);\n  // window.addEventListener('keydown', changeByArrows);\n};\n\nfunction openBigImg(e) {\n  imgModal.src = e.target.dataset.source;\n  imgModal.alt = e.target.dataset.alt;\n  imgModal.id = e.target.dataset.id;\n}\n\nfunction closeModalHandler(e) {\n  lightboxModalRefs.classList.remove('is-open');\n  refreshAttributes();\n  window.removeEventListener(\"keyup\", closeModalESC);\n};\n// console.log(imgModal);\n\nfunction closeModalESC(e) {\n  if (e.key !== \"Escape\") {\n    return;\n  }\n  toggleModal();\n  refreshAttributes();\n}\n\nfunction toggleModal() {\n  lightboxModalRefs.classList.toggle('is-open');\n}\n\nfunction refreshAttributes() {\n  imgModal.setAttribute('src','');\n  imgModal.setAttribute('alt','');\n  imgModal.setAttribute('id','');\n}\n\n// function closeModal() {\n//   if (e.target.nodeName !== 'IMG') {\n//     return;\n//   }\n//   lightboxModalRefs.classList.remove('is-open');\n// }\n\n// function changeByArrows() {\n//   if (e.key === \"ArrowRigth\") {\n   \n//   }\n// }\n\n\n// function keyboardManipulation({ key }) {\n//   switch (key) {\n//     case gallery.length - 1 > activeIndex && \"ArrowRight\":\n//       activeIndex += 1;\n//       refs.modalImg.src = gallery[activeIndex].original;\n//       break;\n//     case activeIndex > 0 && \"ArrowLeft\":\n//       activeIndex -= 1;\n//       refs.modalImg.src = gallery[activeIndex].original;\n//       break;\n//     case activeIndex === gallery.length - 1 && \"ArrowRight\":\n//       activeIndex = 0;\n//       refs.modalImg.src = gallery[activeIndex].original;\n//       break;\n//     case activeIndex === 0 && \"ArrowLeft\":\n//       activeIndex = gallery.length - 1;\n//       refs.modalImg.src = gallery[activeIndex].original;\n//       break;\n//     case \"Escape\":\n//       closeModal();\n//       break;\n//     default:\n//       alert(\"что-то пошло не так\");\n//   }\n// }\n\n"]}